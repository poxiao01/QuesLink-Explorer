## 关联规则分析流程优化

### 步骤1：数据预处理

1. **数据加载**：
   - 从原始数据集中读取所需信息。

2. **列筛选**：
   - 移除无关列，例如 `'SENTENCE'` 和 `'ID'`，以简化后续数据处理步骤。

3. **数据清洗**：
   - 排除带有无效标记的记录，例如 `'DEPENDENCY_PATH=[]'`，以及数值型列为 False 或 0 的情况（例如 `QUESTION_DET=0`），确保数据质量。

### 步骤2：频繁项集与关联规则挖掘

1. **前缀树构建**：
   - 使用前缀树算法分析经过预处理的数据，建立前缀树数据结构。在构建过程中忽略全为后件的项集。

2. **频繁项集挖掘**：
   - 设置支持度阈值为 2，通过前缀树算法挖掘出所有频繁项集。这些项集反映了数据中常见的元素组合。

3. **数据合法性检查与验证**

   - 对生成的频繁项集进行合法性检查，确保数据格式正确无误(检查每个频繁项中的元素是否重复出现，频繁项集中的元素是否重复出现)：
     ```python
     check_data_legality(data_list)
     ```

   - 验证频繁项集中各元素的数量是否与数据库中的记录相符，以确保数据准确性：
     ```python
     validate_element_counts_list_against_db(data_list)
     ```

4. **关联规则挖掘与验证**

   - 检验生成的关联规则是否合法，即是否与数据库中的信息相匹配(检查前件和后件的合法性和置信度的合法性以及倒排索引的正确性)：
     ```python
     rules.check_rules_against_db()
     ```

